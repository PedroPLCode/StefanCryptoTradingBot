latest_data = df.iloc[-1]
previous_data = df.iloc[-2]

avg_volume_period = bot_settings.avg_volume_period
avg_volume = df['volume'].iloc[-avg_volume_period:].mean()
avg_rsi = df['rsi'].iloc[-avg_volume_period:].mean()

adx_trend = (latest_data['adx'] > 25 and latest_data['adx'] > previous_data['adx'])
avg_adx = sum(df.iloc[-5:]) / 5
di_difference_increasing = (abs(float(latest_data['plus_di']) - float(latest_data['minus_di'])) > 
                            abs(float(previous_data['plus_di']) - float(previous_data['minus_di'])))
significant_move = (latest_data['high'] - latest_data['low']) > latest_data['atr']

uptrend = (float(latest_data['plus_di']) > float(latest_data['minus_di']) and 
        adx_trend and 
        di_difference_increasing and 
        latest_data['rsi'] < 70 and 
        float(latest_data['plus_di']) > 20 and
        significant_move)

downtrend = (float(latest_data['plus_di']) < float(latest_data['minus_di']) and 
            adx_trend and 
            di_difference_increasing and 
            float(latest_data['minus_di']) > 20 and 
            latest_data['rsi'] > 30 and
            significant_move)

horizontal = (latest_data['adx'] < avg_adx and 
            abs(float(latest_data['plus_di']) - float(latest_data['minus_di'])) < 5)

--

EXAMPLES OF BUY SIGNALS:

RSI
float(latest_data['rsi']) < float(bot_settings.rsi_buy)
float(latest_data['rsi']) > float(previous_data['rsi'])
float(latest_data['rsi']) > float(avg_rsi) and

CCI
float(latest_data['cci']) < float(bot_settings.cci_buy)

MACD
float(previous_data['macd']) < float(previous_data['macd_signal']) and 
float(latest_data['macd']) > float(latest_data['macd_signal'])

MACD histogram
float(previous_data['macd_histogram']) < 0 and 
float(latest_data['macd_histogram']) > 0

MFI
float(latest_data['mfi']) < float(bot_settings.mfi_buy)

Boilinger Bands
float(latest_data['close']) < float(latest_data['lower_band'])

MA50
float(latest_data['close']) > float(latest_data['ma_50'])

MA200
float(latest_data['close']) > float(latest_data['ma_200'])

EMA Fast and EMA Slow
float(previous_data['ema_fast']) < float(previous_data['ema_slow']) and 
float(latest_data['ema_fast']) > float(latest_data['ema_slow'])

Stochastic
float(previous_data['stoch_k']) < float(previous_data['stoch_d']) and
float(latest_data['stoch_k']) > float(latest_data['stoch_d']) and
float(latest_data['stoch_k']) < float(bot_settings.stoch_buy)

Stochastic RSI
float(latest_data['stoch_rsi_k']) < float(bot_settings.stoch_buy) and
float(latest_data['stoch_rsi_k']) > float(latest_data['stoch_rsi_d'])

Parabolic SAR
float(previous_data['psar']) > float(previous_data['close']) and
float(latest_data['psar']) < float(latest_data['close'])

VMAP
float(latest_data['close']) > float(latest_data['vwap'])

Volume 
float(latest_data['volume']) > float(previous_data['volume'])
float(latest_data['volume']) > avg_volume

--

EXAMPLES OF SELL SIGNALS:

RSI
float(latest_data['rsi']) > float(bot_settings.rsi_sell)

CCI
float(latest_data['cci']) > float(bot_settings.cci_sell)

MACD
float(previous_data['macd']) > float(previous_data['macd_signal']) and 
float(latest_data['macd']) < float(latest_data['macd_signal'])

MACD histogram
float(previous_data['macd_histogram']) > 0 and 
float(latest_data['macd_histogram']) < 0

MFI
float(latest_data['mfi']) > float(bot_settings.mfi_sell)

Boilinger Bands
float(latest_data['close']) > float(latest_data['upper_band'])

Parabolic SAR
float(latest_data['close']) < float(latest_data['psar'])

MA50
float(latest_data['close']) < float(latest_data['ma_50'])

MA200
float(latest_data['close']) < float(latest_data['ma_200'])

EMA Fast and EMA Slow
float(previous_data['ema_fast']) > float(previous_data['ema_slow']) and
float(latest_data['ema_fast']) < float(latest_data['ema_slow'])

Stochastic
float(previous_data['stoch_k']) > float(previous_data['stoch_d']) and
float(latest_data['stoch_k']) < float(latest_data['stoch_d']) and
float(latest_data['stoch_k']) > float(bot_settings.stoch_sell)

Stochastic RSI
float(latest_data['stoch_rsi_k']) > float(bot_settings.stoch_sell) and
float(latest_data['stoch_rsi_k']) < float(latest_data['stoch_rsi_d'])

VMAP
float(latest_data['close']) < float(latest_data['vwap'])

Volume
float(latest_data['volume']) < float(previous_data['volume'])
float(latest_data['volume']) < avg_volume